---
layout: default
---

<!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- 弹出框 -->
<div id="popup-message" class="popup hidden">
  <span id="popup-text"></span>
</div>

<style>
.popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #fff; 
  color: #333;
  padding: 15px 20px;
  border-radius: 8px;
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  z-index: 1000;
}

.popup.show {
  opacity: 1;
  visibility: visible;
}

.popup.hidden {
  opacity: 0;
  visibility: hidden;
}
</style>

<script>
function showPopupMessage(message) {
  const popup = document.getElementById('popup-message');
  const popupText = document.getElementById('popup-text');

  // 设置消息内容
  popupText.textContent = message;

  // 显示弹出框
  popup.classList.remove('hidden');
  popup.classList.add('show');

  // 定时隐藏弹出框
  setTimeout(() => {
    popup.classList.remove('show');
    popup.classList.add('hidden');
  }, 3000); // 3秒后隐藏
}
</script>

<!-- Post Header -->
<style type="text/css">
    header.intro-header {
        position: relative;
        background-image: url('{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}');
    }

    {% if page.header-mask %}
    header.intro-header .header-mask {
        width: 100%;
        height: 100%;
        position: absolute;
        background: rgba(0,0,0, {{ page.header-mask }});
    }
    {% endif %}
</style>
<header class="intro-header">
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        {% for tag in page.tags %}
                        <a class="tag" href="{{ site.baseurl }}/1-tags/#{{ tag }}" title="{{ tag }}">{{ tag }}</a>
                        {% endfor %}
                    </div>
                    <h1>{{ page.title }}</h1>
                    <h2 class="subheading">{{ page.subtitle }}</h2>
                    <span class="meta">Posted by {% if page.author %}{{ page.author }}{% else %}{{ site.title }}{% endif %} on {{ page.date | date: "%B %-d, %Y" }}</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- 计算并显示字数及预计阅读时间 -->
<div class="word-count" style="text-align: center; margin-top: 20px; font-size: 16px; color: #555;">
  {% capture content_without_punctuation %}
    {{ content | replace: ',', '' | replace: '.', '' | replace: '!', '' | replace: '?', '' | replace: '，', '' | replace: '。', '' | replace: '！', '' | replace: '？', '' | replace: ':', '' | replace: '：', '' }}
  {% endcapture %}
  {% assign word_count = content_without_punctuation | strip_html | size %}
  <p style="background: #f9f9f9; display: inline-block; padding: 10px 20px; border-radius: 8px; border: 1px solid #ddd;">
    全文总字数（不含标点符号）：<strong style="color: #333;">{{ word_count }}</strong><br>
    预计阅读时间：<strong style="color: #333;">{{ word_count | divided_by: 700.0 | round: 1 }} min</strong>
  </p>
</div>
<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="post-container"
                style="
                    width: 90%;
                    max-width: 720px;
                    background: linear-gradient(135deg, #ffffff, #f2f2f2);
                    padding: 20px;
                    border-radius: 10px;
                    border: 1px solid #e0e0e0;
                    box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.2);
                    margin: 40px auto;
                    font-size: 14px;
                    line-height: 1.6;">
                
                {{ content | markdownify }}

            </div>  

<!-- 分享功能 -->
<div id="share-container" style="text-align: left; margin-top: 20px;">
  <button id="share-btn-1" style="
      padding: 8px 12px;
      background-color: #ffffff;
      color: black;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  ">
      分享
  </button>
</div>

<!-- 截图功能 -->
<div id="screenshot-container" style="text-align: left; margin-top: 20px;">
  <button id="screenshot-btn" style="
      padding: 8px 12px;
      background-color: #ffffff;
      color: black;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  ">
      截图
  </button>
</div>

<script>
document.getElementById('share-btn-1').addEventListener('click', function () {
  const title = document.querySelector('h1').innerText || '文章标题'; // 获取文章标题
  const url = window.location.href; // 获取当前文章的链接
  const shareText = `【${title}】${url}，欢迎前来阅读！`;

  // 复制内容到剪贴板
  navigator.clipboard.writeText(shareText).then(() => {
    showPopupMessage('分享成功！'); // 弹出提示
  }).catch(err => {
    console.error('复制失败：', err);
    showPopupMessage('分享失败，请手动复制内容。'); // 弹出提示
  });
});

document.getElementById('screenshot-btn').addEventListener('click', function () {
  const page = document.documentElement; // 获取整个网页
  html2canvas(page, {
    scale: window.devicePixelRatio, // 使用设备分辨率
    useCORS: true // 支持跨域资源
  }).then(function (canvas) {
    const link = document.createElement('a');
    link.download = 'screenshot.png'; // 下载的文件名
    link.href = canvas.toDataURL('image/png'); // 转换为图片 URL
    link.click(); // 自动触发下载
    showPopupMessage('截图成功！'); // 弹出提示
  }).catch(function (error) {
    console.error('截图失败：', error);
    showPopupMessage('截图失败，请重试。'); // 弹出提示
  });
});
</script>

            <!-- Navigation Buttons -->
            <div class="navigation-buttons"
                style="
                    width: 90%;
                    max-width: 720px;
                    display: flex;
                    justify-content: space-between;
                    flex-wrap: wrap;
                    gap: 10px;
                    margin: 20px auto;">
                
                {% if page.previous.url %}
                <a href="{{ page.previous.url | prepend: site.baseurl | replace: '//', '/' }}" 
                    class="btn btn-navigation previous"
                    style="
                        flex: 1 1 calc(50% - 10px);
                        text-align: center;
                        padding: 10px;
                        background-color: #ffffff;
                        border: 1px solid #e0e0e0;
                        border-radius: 8px;
                        text-decoration: none;
                        color: #333;
                        font-size: 14px;
                        white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;">
                    Previous<br>
                    <span>{{ page.previous.title }}</span>
                </a>
                {% endif %}

                {% if page.next.url %}
                <a href="{{ page.next.url | prepend: site.baseurl | replace: '//', '/' }}" 
                    class="btn btn-navigation next"
                    style="
                        flex: 1 1 calc(50% - 10px);
                        text-align: center;
                        padding: 10px;
                        background-color: #ffffff;
                        border: 1px solid #e0e0e0;
                        border-radius: 8px;
                        text-decoration: none;
                        color: #333;
                        font-size: 14px;
                        white-space: nowrap;
                        overflow: hidden;
                        text-overflow: ellipsis;">
                    Next<br>
                    <span>{{ page.next.title }}</span>
                </a>
                {% endif %}

            </div>

        </div>
    </div>
</article>

<!-- Side Catalog Container -->
{% if page.catalog %}
<div class="
    col-lg-2 col-lg-offset-0
    visible-lg-block
    sidebar-container
    catalog-container">
    <div class="side-catalog">
        <hr class="hidden-sm hidden-xs">
        <h5>
            <a class="catalog-toggle" href="#">CATALOG</a>
        </h5>
        <ul class="catalog-body"></ul>
    </div>
</div>
{% endif %}

<!-- Sidebar Container -->
<div class="
    col-lg-8 col-lg-offset-2
    col-md-10 col-md-offset-1
    sidebar-container">

    <!-- Featured Tags -->
    {% if site.featured-tags %}
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5><a href="/1-tags/">FEATURED TAGS</a></h5>
        <div class="tags">
            {% for tag in site.tags %}
                {% if tag[1].size > {{site.featured-condition-size}} %}
                    <a href="/1-tags/#{{ tag[0] }}" title="{{ tag[0] }}" rel="{{ tag[1].size }}">
                        {{ tag[0] }}
                    </a>
                {% endif %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <!-- Friends Blog -->
    {% if site.friends %}
    <hr>
    <h5>FRIENDS</h5>
    <ul class="list-inline">
        {% for friend in site.friends %}
            <li><a href="{{friend.href}}">{{friend.title}}</a></li>
        {% endfor %}
    </ul>
    {% endif %}
</div>